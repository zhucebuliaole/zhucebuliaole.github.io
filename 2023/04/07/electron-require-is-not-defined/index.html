<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>electron require is not defined</title><meta name="description" content="ğŸ‡Happy Chinese New Year ğŸ‡ï¼"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q || []).push(arguments)},i[r].l=1 * new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'G-66E4L626Z5', 'lele233.tech');
ga('send', 'pageview');</script><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/icon.svg"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="æœ¬ç¯‡æ–‡ç« æ˜¯ç”¨äºè§£å†³æœ€æ–°ç‰ˆæœ¬electronåœ¨æµè§ˆå™¨ä¾§æ–‡ä»¶å¦‚ä½•å¼•å…¥nodejsä¸‹çš„åŒ…çš„é—®é¢˜ã€‚ä¸»è¦åŸºäºThe ultimate Electron guide
ç¼–å†™ã€‚
Chromium å’Œ Node å¦‚ä½•äº¤äº’ï¼ŸElectron åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªnpmé¡¹ç›®ï¼Œå®ƒåŒ…å«electronæ¡†æ¶ä½œä¸ºä¾èµ–é¡¹ã€‚npm é¡¹ç›®çš„ä¸»è¦å…¥å£ç‚¹æ˜¯ Electron åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­é€‰æ‹©æ€§åœ°åŒ…å«æˆ‘ä»¬æƒ³è¦çš„ä»»ä½• Node APIï¼Œä»¥åŠåˆ›å»ºå¹¶å‘ˆç°UIçš„å‰ç«¯æµè§ˆå™¨ã€‚  
Chromium and ElectronChromium ä»å®ƒçš„ä¸»è¿›ç¨‹å¼€å§‹ã€‚ä»ä¸»è¿›ç¨‹ä¸­ï¼Œå¯ä»¥ç”Ÿæˆ**æ¸²æŸ“å™¨è¿›ç¨‹(renderer)**ã€‚æ¸²æŸ“å™¨è¿›ç¨‹ä¸[browser]çª—å£åŒä¹‰ã€‚ä¸»è¿›ç¨‹æŒæœ‰å¯¹æ¸²æŸ“å™¨è¿›ç¨‹çš„å¼•ç”¨ï¼Œå¹¶å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»º/åˆ é™¤æ¸²æŸ“å™¨è¿›ç¨‹ã€‚åœ¨å¤§å¤šæ•° Electro.."><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="leçš„åšå®¢" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Qile Liang's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">electron require is not defined</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">ç‚¹å‡»è¿”å›é¡¶éƒ¨</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Chromium-%E5%92%8C-Node-%E5%A6%82%E4%BD%95%E4%BA%A4%E4%BA%92%EF%BC%9F"><span class="toc-text">Chromium å’Œ Node å¦‚ä½•äº¤äº’ï¼Ÿ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chromium-and-Electron"><span class="toc-text">Chromium and Electron</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Node-API-in-Electron"><span class="toc-text">Node API in Electron</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%89%88electron%E4%B9%8B%E5%89%8D"><span class="toc-text">ç¬¬äº”ç‰ˆelectronä¹‹å‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Electron-5-and-IPC"><span class="toc-text">Electron 5+ and IPC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Preload-and-security"><span class="toc-text">Preload and security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Preload-with-context-isolation"><span class="toc-text">Preload with context isolation</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">electron require is not defined</h1><time class="has-text-grey" datetime="2023-04-07T03:50:43.000Z">2023-04-07</time><article class="mt-2 post-content"><p>æœ¬ç¯‡æ–‡ç« æ˜¯ç”¨äºè§£å†³æœ€æ–°ç‰ˆæœ¬electronåœ¨æµè§ˆå™¨ä¾§æ–‡ä»¶å¦‚ä½•å¼•å…¥nodejsä¸‹çš„åŒ…çš„é—®é¢˜ã€‚ä¸»è¦åŸºäº<a target="_blank" rel="noopener" href="https://www.debugandrelease.com/the-ultimate-electron-guide/">The ultimate Electron guide
</a>ç¼–å†™ã€‚</p>
<h1 id="Chromium-å’Œ-Node-å¦‚ä½•äº¤äº’ï¼Ÿ"><a href="#Chromium-å’Œ-Node-å¦‚ä½•äº¤äº’ï¼Ÿ" class="headerlink" title="Chromium å’Œ Node å¦‚ä½•äº¤äº’ï¼Ÿ"></a>Chromium å’Œ Node å¦‚ä½•äº¤äº’ï¼Ÿ</h1><p><strong>Electron</strong> åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ª<strong>npmé¡¹ç›®</strong>ï¼Œå®ƒåŒ…å«electronæ¡†æ¶ä½œä¸ºä¾èµ–é¡¹ã€‚npm é¡¹ç›®çš„ä¸»è¦å…¥å£ç‚¹æ˜¯ Electron åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­é€‰æ‹©æ€§åœ°åŒ…å«æˆ‘ä»¬æƒ³è¦çš„ä»»ä½• <strong>Node API</strong>ï¼Œä»¥åŠåˆ›å»ºå¹¶å‘ˆç°UIçš„å‰ç«¯æµè§ˆå™¨ã€‚<br><img src="https://s2.loli.net/2023/04/07/2lC5EGMu6znIA1V.png" alt="actual-arch-v2.png">  </p>
<h1 id="Chromium-and-Electron"><a href="#Chromium-and-Electron" class="headerlink" title="Chromium and Electron"></a>Chromium and Electron</h1><p>Chromium ä»å®ƒçš„ä¸»è¿›ç¨‹å¼€å§‹ã€‚ä»ä¸»è¿›ç¨‹ä¸­ï¼Œå¯ä»¥ç”Ÿæˆ**æ¸²æŸ“å™¨è¿›ç¨‹(renderer)**ã€‚æ¸²æŸ“å™¨è¿›ç¨‹ä¸[browser]çª—å£åŒä¹‰ã€‚ä¸»è¿›ç¨‹æŒæœ‰å¯¹æ¸²æŸ“å™¨è¿›ç¨‹çš„å¼•ç”¨ï¼Œå¹¶å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»º/åˆ é™¤æ¸²æŸ“å™¨è¿›ç¨‹ã€‚åœ¨å¤§å¤šæ•° Electron åº”ç”¨ç¨‹åºä¸­ï¼Œåªä¼šåˆ›å»ºä¸€ä¸ªæ¸²æŸ“å™¨è¿›ç¨‹ï¼Œä½†å¦‚æœéœ€è¦æ›´å¤šæ¸²æŸ“å™¨è¿›ç¨‹ï¼Œåˆ™æ²¡æœ‰ç¡¬æ€§é™åˆ¶ã€‚<br>æ¸²æŸ“è¿›ç¨‹ä¸ä¸»è¿›ç¨‹çš„å…³ç³»å¦‚å›¾ã€‚<br><img src="https://s2.loli.net/2023/04/07/2QjwulY35UpT1Ve.png" alt="chromium-and-renderer-1-.png"><br>å¦‚è‹¥æˆ‘ä»¬æŠŠæ¸²æŸ“è¿›ç¨‹åŠ å…¥åˆ°ä¹‹å‰çš„ç¤ºæ„å›¾ä¸­æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br><img src="https://s2.loli.net/2023/04/07/BitAfExRaeUZCbH.png" alt="chromium-in-npm-project.png"><br>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªwindowå¹¶ä½¿ç”¨loadurlç­‰æ–¹æ³•åˆ›å»ºä¸€ä¸ªrenderè¿›ç¨‹ã€‚</p>
<h1 id="Node-API-in-Electron"><a href="#Node-API-in-Electron" class="headerlink" title="Node API in Electron"></a>Node API in Electron</h1><h2 id="ç¬¬äº”ç‰ˆelectronä¹‹å‰"><a href="#ç¬¬äº”ç‰ˆelectronä¹‹å‰" class="headerlink" title="ç¬¬äº”ç‰ˆelectronä¹‹å‰"></a>ç¬¬äº”ç‰ˆelectronä¹‹å‰</h2><p>åœ¨è€ç‰ˆæœ¬çš„Electronä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å€’å…¥Nodeã€‚åªè¦æˆ‘ä»¬åˆ›å»ºwindowçš„æ—¶å€™å¯ç”¨<strong>nodeIntegrarion=true</strong>ã€‚</p>
<pre><code class="javascript">// in main.js
function createWindow () {
  // Create the browser window.
  mainWindow = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      nodeIntegration:true //here
    }
</code></pre>
<p>æ­¤æ—¶æˆ‘ä»¬çš„ç¨‹åºæ˜¯å¯ä»¥éšæ„requireï¼Œè®¿é—®nodeçš„ã€‚ä½†æ˜¯éšä¹‹è€Œæ¥çš„å°±æ˜¯å¾ˆå¤§çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚æ²¡æœ‰éš”ç¦»ç­‰ã€‚<br><img src="https://s2.loli.net/2023/04/07/wRMW4hlptcVboXT.png" alt="node-in-renderer-process.png"></p>
<h2 id="Electron-5-and-IPC"><a href="#Electron-5-and-IPC" class="headerlink" title="Electron 5+ and IPC"></a>Electron 5+ and IPC</h2><p>å¦‚æœæˆ‘ä»¬æ— æ³•åœ¨æ¸²æŸ“å™¨ä¸­å¼•å…¥node API é‚£æˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ **IPC (inter-process communication)**is all you need! äº‹å®ä¸Šæˆ‘ä»¬çš„ä¸»è¿›ç¨‹ä»…ä»…æ‹¥æœ‰rendererçš„å¼•ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»é€šè¿‡IPCè¿›è¡Œé€šä¿¡ã€‚<br>IPCæ˜¯åŸºäºäº‹ä»¶è¿›è¡Œé€šä¿¡çš„ï¼Œå®æ–½IPCæ—¶ï¼Œæ‰€æœ‰è¿›ç¨‹ä¼šç›‘å¬äº‹ä»¶ï¼Œäº‹ä»¶å‘ç”Ÿæ—¶åˆ™ä¼šè¿›è¡Œæ‰§è¡Œã€‚<br><img src="https://s2.loli.net/2023/04/07/uBwXtxWRGUZI89e.png" alt="chromium-ipc-listeners-1-.png">  </p>
<pre><code class="javascript">// code in main
const {
  app,
  BrowserWindow,
  ipcMain
} = require("electron");
const path = require("path");

// Keep a global reference of the window object, if you don't, the window will
// be closed automatically when the JavaScript object is garbage collected.
let win;

async function createWindow() {

  // Create the browser window.
  win = new BrowserWindow({
    width: 800,
    height: 600
  });

  // Load app
  win.loadFile(path.join(__dirname, "dist/index.html"));

  // rest of code..
}

app.on("ready", createWindow);

// Create an listener for the event "A"
ipcMain.on("A", (event, args) =&gt; {
    
  // Send result back to renderer process
  win.webContents.send("D", {success: true});
});
</code></pre>
<pre><code class="javascript">// code in renderer
const {
    ipcRenderer
} = require("electron");

window.sendToA = function(){
    ipcRenderer.send("A");
};

window.receiveFromD = function(func){
    ipcRenderer.on("D", (event, ...args) =&gt; func(event, ...args));
};
</code></pre>
<p>ç„¶è€Œè¿™åªæ˜¯ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½åœ¨renderer.js ä¸­ç›´æ¥<code>require("electron")</code> </p>
<h2 id="Preload-and-security"><a href="#Preload-and-security" class="headerlink" title="Preload and security"></a>Preload and security</h2><p>æˆ‘ç‰¹æ„å¿½ç•¥äº†åœ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´é€šè¿‡ IPC è¿›è¡Œé€šä¿¡æ—¶æ‰€éœ€çš„é‡è¦ç»†èŠ‚ï¼Œè¿™å°±æ˜¯ Electron å›¢é˜Ÿå®šä¹‰ä¸ºé¢„åŠ è½½è„šæœ¬çš„å†…å®¹ã€‚</p>
<p>ç”±äºæˆ‘ä»¬çš„æ¸²æŸ“å™¨è¿›ç¨‹æ— æ³•è®¿é—® Nodeï¼Œå› æ­¤å®ƒä»¬è‡ªå·±æ— æ³•åˆ›å»ºæ‰€éœ€çš„ IPC ç»‘å®šï¼è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯é€šè¿‡é¢„åŠ è½½è„šæœ¬(<strong>preload.js</strong>)ï¼Œå®ƒå¯ä»¥è®¿é—® Node APIã€‚æˆ‘ä»¬åœ¨é¢„åŠ è½½è„šæœ¬ä¸­åˆ›å»ºæ¸²æŸ“å™¨ IPC ç»‘å®šï¼›é¢„åŠ è½½è„šæœ¬çš„å†…å®¹è¢«æ³¨å…¥åˆ°æˆ‘ä»¬çš„æ¸²æŸ“å™¨è¿›ç¨‹ä¸­.<br>æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºwindowçš„æ—¶å€™å¯¼å…¥preloadã€‚</p>
<pre><code class="javascript">// Create the browser window.
win = new BrowserWindow({
  width: 800,
  height: 600,
  webPreferences: {
    preload: path.join(__dirname, "preload.js")    
  }
});
</code></pre>
<p>ä½†æ˜¯äº‹å®ä¸Šç›´æ¥ä½¿ç”¨preloadæ„å‘³ç€æˆ‘ä»¬å…¨æƒä¿¡ä»»æ¸²æŸ“ç«¯ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨ç«¯ï¼Œè¿™å¾ˆå®¹æ˜“é€ æˆå®‰å…¨é—®é¢˜ã€‚<br>åé¢çš„ä¸€æ®µä»£ç å°†æä¾›ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜è¿™æ ·ä½¿ç”¨preloadæœ‰æ€ä¹ˆæ ·çš„é—®é¢˜ã€‚  </p>
<pre><code class="javascript">// preload.js
const {
    ipcRenderer
} = require("electron");

window.send = function(){
    return ipcRenderer.send;
};

window.receive = function(){
    return ipcRenderer.on;
};
</code></pre>
<pre><code class="html">&lt;!-- code in index.html --&gt;
&lt;!doctype html&gt;
&lt;html lang="en-US"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"/&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script&gt;
        // Called when message received from main process
        window.receive()("fromMain", (data) =&gt; {
            console.log(`Received ${data} from main process`);
        });

        // Send a message to the main process
        window.send()("toMain", "some data");
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="javascript">// code in main.js
const {
  app,
  BrowserWindow,
  ipcMain
} = require("electron");
const path = require("path");
const fs = require("fs");

// Keep a global reference of the window object, if you don't, the window will
// be closed automatically when the JavaScript object is garbage collected.
let win;

async function createWindow() {

  // Create the browser window.
  win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      preload: path.join(__dirname, "preload.js") // use a preload script
    }
  });

  // Load app
  win.loadFile(path.join(__dirname, "dist/index.html"));

  // rest of code..
}

app.on("ready", createWindow);

// Create a listener for deleting files
ipcMain.on("deleteFile", (event, args) =&gt; {
  fs.unlinkSync(args.filePath);
    
  // Send the result back to the renderer process
  win.webContents.send("deleteFileResponse", true);
});
</code></pre>
<p>å¦‚æœæˆ‘ä»¬é”™è¯¯åœ°ä¿¡ä»»æˆ‘ä»¬çš„æ¸²æŸ“å™¨è¿›ç¨‹ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„ä»£ç å‰ç«¯è¢«é»‘å®¢æ”»å‡»ä»¥å°†æ–‡ä»¶è·¯å¾„åˆ—è¡¨å‘é€åˆ°â€œdeleteFileâ€é€šé“ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸¢å¤±è®¡ç®—æœºä¸Šçš„é‡è¦æ–‡ä»¶ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªäººä¸ºçš„ä¾‹å­ï¼Œä½†å®ƒè¡¨æ˜å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒï¼Œæœ‰äººå¯èƒ½ä¼šåˆ©ç”¨æˆ‘ä»¬çš„ä»£ç æ¥æ‰§è¡Œæˆ‘ä»¬ä¸å¸Œæœ›çš„æ“ä½œã€‚<br>ä¸ºäº†ä½¿ç”¨ IPCè€Œä¸ä¼šå—åˆ°å‡½æ•°è¦†ç›–çš„å½±å“ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸Šä¸‹æ–‡éš”ç¦»(<strong>context isolation</strong>)ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä¸Šä¸‹æ–‡éš”ç¦»åˆ›å»ºäº†ä¸€ä¸ªæ‚¨åœ¨é¢„åŠ è½½ä¸­å®šä¹‰çš„ä¸å¯å˜å¯¹è±¡ã€‚æ¸²æŸ“å™¨è¿›ç¨‹æ— æ³•æ›´æ”¹ä»»ä½•å…·æœ‰ä¸Šä¸‹æ–‡éš”ç¦»çš„å†…å®¹ã€‚å¹¸è¿çš„æ˜¯ï¼Œè®¾ç½®ä¸Šä¸‹æ–‡éš”ç¦»éå¸¸å®¹æ˜“ã€‚</p>
<h2 id="Preload-with-context-isolation"><a href="#Preload-with-context-isolation" class="headerlink" title="Preload with context isolation"></a>Preload with context isolation</h2><p>btw,ä»Electronç‰ˆæœ¬ 12å¼€å§‹ï¼Œ<strong>å€¼contextIsolationé»˜è®¤ä¸º trueã€‚</strong><br>æˆ‘ä»¬åœ¨å¼•å…¥windowsæ—¶ä½¿ç”¨çš„ä»£ç åº”è¯¥è®¾ç½®contextisolationå€¼.</p>
<pre><code class="javascript">// Create the browser window.
// code in main.js
win = new BrowserWindow({
  width: 800,
  height: 600,
  webPreferences: {
    contextIsolation: true,
    preload: path.join(__dirname, "preload.js")    
  }
});
</code></pre>
<p>æˆ‘ä»¬çš„é¢„åŠ è½½éœ€è¦ç¨å¾®æ”¹å˜ä»¥æ”¯æŒä¸Šä¸‹æ–‡éš”ç¦»ï¼›æˆ‘ä»¬éœ€è¦ä½¿ç”¨electronä¸­çš„<code>contextBridge</code>.</p>
<pre><code class="javascript">// code in preload.js
const {
    ipcRenderer,
    contextBridge
} = require("electron");

// Expose protected methods off of window (ie.
// window.api.sendToA) in order to use ipcRenderer
// without exposing the entire object
contextBridge.exposeInMainWorld("api", {
    sendToA: function(){
        ipcRenderer.send("A");
    },
    receiveFromD: function(func)
</code></pre>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><em></em><a class="button is-default" href="/2023/03/06/coredns%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E4%B8%8Ecorefile%E5%8E%9F%E7%90%86/" title="corednsæ’ä»¶åŸç†ä¸corefileåŸç†"><span class="has-text-weight-semibold">ä¸‹ä¸€é¡µ: corednsæ’ä»¶åŸç†ä¸corefileåŸç†</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="zhucebuliaole/zhucebuliaole.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/zhucebuliaole"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- çŸ¥ä¹--><a title="zhihu" target="_blank" rel="noopener nofollow" href="//zhihu.com/people/liang-qi-le"><i class="iconfont icon-zhihu"></i></a><!-- é¢†è‹±--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/qile-liang-89b178194/"><i class="iconfont icon-linkedin"></i></a><!-- è„¸ä¹¦--></section><p><span>Copyright Â©</span><span> Qile Liang 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>